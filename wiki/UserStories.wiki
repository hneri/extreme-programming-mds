= User Stories =

------
== Uma estória... ==

Uma estória não é mais do que a descrição de uma pequena funcionalidade que o cliente pretende ver desenvolvida no sistema. 

O termo em inglês é story (estória – conto) e não history (história - relato de fatos);

------

==O que são:==
 * Uma breve descrição de uma funcionalidade que foi discutida
 * São tradicionalmente escritas em cartões ou post-its 
 * Testes para determinar quando a estória está completa

== O que não são: ==
 * Documentos de implementação
 * Documentação de requisitos
 * Imutáveis

-----

== Características Importantes:==

 * Stakeholders escrevem User Stories, não os desenvolvedores. User Stories são simples o suficiente para que as pessoas possam aprender a escrevê-las em alguns minutos.
 * User Stories são usadas para estimar o esforço da sua implementação.
 * User Stories são usadas para indicar a prioridade dos requisitos

-----

== User Stories afetam o  planejamento em... ==

 * Planejamento:  a prioridade atribuída a uma user story define quando o requisito será implementado. 
 * Estimativas: o trabalho que será feito na iteração depende da estimativa do esforço para que os produtos de trabalho (incluindo User Stories) sejam implementados.

------

== Aspectos Críticos: 3C ==

User Stories possuem três aspectos críticos, os quais devem ser obrigatoriamente atendidos:

 # Cards: user stories devem ser escritos em cartões para que sejam naturalmente pequenos;
 # Conversation: lembrete para identificar uma funcionalidade que foi conversada e discutida com os stakeholders;
 # Confirmation: o cliente define uma maneira de validar esse pedido.

== Exemplos da utilização do 3C ==

*Cards*

- "Um administrador pode cadastrar um jogo para que os apostadores possam fazer seus palpites de resultado"

 
*Conversation*

- O administrador pode cadastrar o jogo quando quiser? E se ele cadastrar muito em cima?

- Ah, eu acho que ele tem que cadastrar com no mínimo 48h de antecedência

- Legal... concordo

*Confirmation (Regras de negócio)*

- Um administrador não poderá cadastrar um jogo com menos de 48h de antecedência 

- O jogo deve pertencer ao campeonato corrente 

- Um administrador não poderá cadastrar dois jogos envolvendo os mesmos times no mesmo horário 

-------

== Como escrever boas estórias? ==

*Independent:* Estórias devem ser independentes uma das outras;

*Negotiable:* Estórias não são contratos, mas lembretes para discussões;

*Valuable:* Estórias devem agregar valor para o cliente;

*Estimatable:* Os desenvolvedores devem ser capazes de estimar o tamanhos das estórias;

*Small:* estórias grandes dificultam as estimativas. Bem como estórias muito pequenas. Quebre ou agrupe dependendo do caso.

*Testable:* Estórias devem ser possíveis de serem testadas.

--------
== Independent ==

 * Remover dependências entre as estórias

 * Remover as duplicações

*Exemplo:*

 * Um usuário pode entrar com seu primeiro nome

 * Um usuário pode entrar com seu último nome

 * Um usuário pode, opcionalmente, entrar com o seu nome do meio

*Melhor:*

 * Um usuário pode entrar com o seu primeiro nome, com o seu último nome ou opcionalmente pode entrar com o seu nome do meio


== Negotiable ==


*Estórias não são imutáveis*

 * Elas representam uma conversa, não um requisito

– Conversas podem ser resumidas

– Conversas não são completas

 * Não devem incluir muitos detalhes

- Muitos detalhes podem dar uma falta impressão de completude e passar a impressão de que novas conversas não são mais necessárias.


== Valuable ==

*Anti-exemplos:*

– A aplicação deve ser escrita usando Ruby on Rails

– MySQL será usado para a persistência dos dados

*Exemplo:*

– Os dados serão persistidos em um banco de dados de qualidade e free


== Estimatable ==

 * Uma estória que não pode ser estimada não pode ser usada no planejamento

 * Se a estória for muito complexa ela deve ser dividida em estórias menores


== Small ==

Grandes estórias (épicas) são difíceis de estimar e difíceis de planejar, elas não se encaixam bem em uma única iteração



== Testable ==

[http://extreme-programming-mds.googlecode.com/svn/wiki/testable.jpg]

--------------
== Escrevendo User Stories ==

Especificando o ator, a ação e a funcionalidade desejada

[http://extreme-programming-mds.googlecode.com/svn/wiki/exemplo_como_escrever_user_storie.png]

[http://extreme-programming-mds.googlecode.com/svn/wiki/Sele%C3%A7%C3%A3o_004.png]

[http://extreme-programming-mds.googlecode.com/svn/wiki/Sele%C3%A7%C3%A3o_00003.png]

---------------
== Testes de aceitação ==

 * Os testes de aceitação têm a finalidade de confirmar que o sistema funciona de acordo com a especificação. 

 * A cada estória estão associados um conjunto de testes de aceitação, que devem ser definidos pelo cliente, antes da construção da estória. 
 
 * O nome, testes de aceitação, tem como objetivo indicar que estes são os testes que o cliente definiu como sendo necessários o sistema passar de modo a que a história possa ser dada como concluída.

== Exemplo ==

{{{
“Um cliente deve registrar-se indicando como código de utilizador o e-mail e escolhendo uma palavra-chave alfa-numérica." 
}}}

Que testes de aceitação podemos definir? 


{{{
"Uma palavra-chave não deve aceitar caracteres que não os A-Z, a-z e 0-9." 
}}}


"Depois de registrado, o cliente deve receber uma confirmação provisória do registro."  

----------
== Card ===

*Frente*
||*US01* ||
||Um cliente deve registrar-se indicando como código de utilizador o e-mail e escolhendo uma palavra-chave alfa-numérica.||

*Verso*
||Critérios para aceitação||
|| Uma palavra-chave não deve aceitar caracteres que não sejam os A-Z, a-z e 0-9. Depois de registrado, o cliente deve receber uma confirmação provisória do registro.||


------
== Testes de Aceitação ==

[http://extreme-programming-mds.googlecode.com/svn/wiki/001.jpg]

[http://extreme-programming-mds.googlecode.com/svn/wiki/002.jpg]

Algumas perguntas podem ser feitas quanto a usabilidade dessa funcionalidade, como por exemplo:

{{{
Como o usuário fará essa busca no sistema?
Como o usuário deseja que seja apresentada a informação solicitada?
O que deve ser feito se o livro não for encontrado?
}}}

------
== CRC Card ==

*Class*

– Qual o nome da classe e a classificação?

*Responsibility*

– Qual a responsabilidade da classe?

*Collaboration*

– Quais classes se comunicam entre si?

------
== Exemplo: MVC ==

[http://extreme-programming-mds.googlecode.com/svn/wiki/exemplo_mvc.jpg]



-----
== Como extrair classes e responsabilidades? ==

*Procurando classes*

– Extração de substantivos

*Procurando responsabilidades*

– Extração de verbos
------

== Exemplos ==

[http://extreme-programming-mds.googlecode.com/svn/wiki/crc-01.jpg]

[http://extreme-programming-mds.googlecode.com/svn/wiki/crc001.jpg]

[http://extreme-programming-mds.googlecode.com/svn/wiki/crc-02.png]

[http://extreme-programming-mds.googlecode.com/svn/wiki/crc02.jpg]

--------
== Exemplo Prático ==

-----
== User Stories ==

 * US01 – Como gerente eu quero manter o cadastro de vídeos da locadora para que seja possível  catalogar os vídeos existentes.

 * US02 – Como gerente eu quero manter o cadastro de clientes da locadora para que as informações a respeito do cliente estejam disponíveis quando necessário.

 * US03 – Como gerente eu quero imprimir um relatório dos vídeos pendentes para poder relembrar os clientes da devolução dos vídeos.

 * US04 – Como cliente eu quero ter um cartão que me identifique para que eu possa alugar os vídeos.

 * US05 – Como funcionário eu quero manter o controle dos vídeos alugados para que seja possível cobrar taxas em caso da devolução ocorrer com atraso.

-----

== User Stories e Critérios de Aceitação ==

||US01||
||Como gerente eu quero manter o cadastro de vídeos da locadora para que seja possível  catalogar os vídeos existentes||

||Critérios para aceitação||
|| Cada vídeo cadastrado deve ter um ID associado
 Para cada vídeo deve ser possível cadastrar o nome, o ano, o gênero, a categoria e a quantidade existente||

||US02||
||Como gerente eu quero manter o cadastro de clientes da locadora para que as informações a respeito do cliente estejam disponíveis quando necessário.||

||Critérios para aceitação||
|| Cada cliente deve ter um cartão identificador associado
 Para cada cliente deve ser possível cadastrar nome, telefone, endereço, CPF e RG||

||US03||
||Como gerente eu quero imprimir um relatório dos vídeos pendentes para poder relembrar os clientes da data de devolução dos vídeos||

||Critérios para aceitação||
|| Os vídeos com dois ou mais dias de atraso devem ser destacados||

||US04||
||Como cliente eu quero ter um cartão que me identifique para que eu possa alugar os vídeos||

||Critérios para aceitação||
|| Cada cartão deve ter um identificador único||

||US05||
||Como funcionário eu quero manter o controle dos vídeos alugados para que seja possível cobrar taxas em caso da devolução ocorrer com atraso||

||Critérios para aceitação||
|| Cada cliente pode alugar no máximo cinco vídeos por vez
 Os vídeos podem ser alugados por no máximo três dias
 O cliente só poderá alugar vídeos se não tiver vídeos pendentes para devolução
 Caso o cliente tenha vídeos pendentes ele deverá pagar uma extra antes de poder alugar mais vídeos
 O cliente só poderá alugar vídeos se não tiver débito pendente||

---------
== CRC Cards ==

*US01 - Como gerente eu quero manter o cadastro de vídeos da locadora para que seja possível  catalogar os vídeos existentes*

Substantivos: gerente, vídeos, locadora
Verbos: manter, catalogar

*Gerente*
||Responsabilidades||||Colaboração||
||Imprimir relatórios||||Locadora||

*Video*
||Responsabilidades||||Colaboração||
||Descrever características dos vídeos||||Locadora||

*Video*
||Responsabilidades||||Colaboração||
||Manter dados de clientes, de vídeos e de aluguéis||||Vídeo, Gerente, Cliente, Aluguel||



--------
=Referências= 

[http://www.agilemodeling.com/artifacts/userStory.htm#Figure1 Agile Modeling, Introduction to User Stories]

[http://blog.scrumhalf.com.br/2011/10/user-stories-o-que-sao-como-usar/ Blog ScrumHalf, User Stories – O que são? Como Usar?]

[http://blog.scrumhalf.com.br/2011/10/criterios-de-aceitacao-das-user-stories/ Blog ScrumHalf, Critérios de Aceitação das User Stories]

[http://radlab.cs.berkeley.edu/w/upload/3/36/UserStories.pdf Rad Lab, UC Berkeley. User Stories and Design, 2007]

[http://www.mountaingoatsoftware.com/system/presentation/file/35/UserStoriesXPAtlanta.pdf Montain Got Software, User Stories Applied for Agile Software Development]